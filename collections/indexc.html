<html><head><title>Collections of https://situx.github.io/geostatdeploy</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
<script src="https://cdn.datatables.net/1.13.11/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/plug-ins/1.13.6/sorting/natural.js"></script>
<script src="https://cdn.datatables.net/plug-ins/1.13.6/pagination/input.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
     <link href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/MarkerCluster.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/MarkerCluster.Default.css" rel="stylesheet" />
<link href="https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css" rel='stylesheet' />
 <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
<script src="https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/albburtsev/Leaflet.geojsonCSS/leaflet.geojsoncss.min.js"></script>
<script src="https://unpkg.com/leaflet.markercluster@1.0.6/dist/leaflet.markercluster-src.js"></script>
<script src="https://unpkg.com/leaflet.markercluster.layersupport@2.0.1/dist/leaflet.markercluster.layersupport.js"></script>
<script src="https://unpkg.com/leaflet.featuregroup.subgroup@1.0.2/dist/leaflet.featuregroup.subgroup.js"></script>
<script src="https://unpkg.com/leaflet.markercluster.freezable@1.0.0/dist/leaflet.markercluster.freezable.js"></script>
<script src="index.js">
</script>
<script>
var map;
</script>
<style>
footer{
  list-style: none;
  background-color: #eee;
}
ul.breadcrumb {
  padding: 10px 16px;
  list-style: none;
  background-color: #eee;
}
ul.breadcrumb li {
  display: inline;
  font-size: 18px;
}
ul.breadcrumb li+li:before {
  padding: 8px;
  color: black;
  content: "/\00a0";
}
ul.breadcrumb li a {
  color: #0275d8;
  text-decoration: none;
}
ul.breadcrumb li a:hover {
  color: #01447e;
  text-decoration: underline;
}
</style>
</head>
<body>
<header>
<h3>Collections of https://situx.github.io/geostatdeploy</h3>
<ul class="breadcrumb"><li><a href="../">Home</a></li><li>Collections</li></ul>
</header>
<div id="nomap" style="visibility:none" style="height:500px;z-index: 0;"></div>
<table id="feattable"><thead><th>Collection</th><th>Links</th></thead><tbody><tr><td><a href="LimesCoordinates_Kleinkastell/indexc.html">LimesCoordinates_Kleinkastell</a></td><td><a href="LimesCoordinates_Kleinkastell/index.json/">[Collection as JSON]</a></td></tr></tbody></table>
<footer>This page as <a href="index.json">[JSON]</a> <a href="index.html">[HTML]</a>
</footer><script>
clustersfrozen=false
function addFloatingButtonToMap(mapObject, textForButton, onClickFunction, elementID='mapButton1') {
    // Create the button element with basic dom manipulation
    let buttonElement = document.createElement("button");
    buttonElement.id=elementID

    // Set the innertext and class of the button
    buttonElement.innerHTML = textForButton;
    buttonElement.className = 'leaflet-floating-button';

    // Add this leaflet control
    var buttonControl = L.Control.extend({
        options: {
        // if you wish to edit the position of the button, change the position here and also make the corresponding changes in the css attached below
        position: 'topleft'
        },

        onAdd: function () {
        var container = L.DomUtil.create('div');
        container.appendChild(buttonElement);
        return container;
        }
    });

    // Add the control to the mapObject
    mapObject.addControl(new buttonControl());

    // The user defined on click action added to the button
    buttonElement.onclick = onClickFunction;
}
function generateLeafletPopup(feature, layer){
    var popup="<b>"
    if("name" in feature && feature.name!=""){
        popup+="<a href=\""+feature.id+"\" class=\"footeruri\" target=\"_blank\">"+feature.name+"</a></b><br/><ul>"
    }else{
        popup+="<a href=\""+feature.id+"\" class=\"footeruri\" target=\"_blank\">"+feature.id+"</a></b><br/><ul>"
    }
    for(prop in feature.properties){
        popup+="<li>"
        if(prop.startsWith("http")){
            popup+="<a href=\""+prop+"\" target=\"_blank\">"+prop.substring(prop.lastIndexOf('/')+1)+"</a>"
        }else{
            popup+=prop
        }
        popup+=" : "
        if(Array.isArray(feature.properties[prop]) && feature.properties[prop].length>1){
            popup+="<ul>"
            for(item of feature.properties[prop]){
                popup+="<li>"
                if((item+"").startsWith("http")){
                    popup+="<a href=\""+item+"\" target=\"_blank\">"+item.substring(item.lastIndexOf('/')+1)+"</a>"
                }else{
                    popup+=item
                }
                popup+="</li>"
            }
            popup+="</ul>"
        }else if(Array.isArray(feature.properties[prop]) && (feature.properties[prop][0]+"").startsWith("http")){
            popup+="<a href=\""+feature.properties[prop][0]+"\" target=\"_blank\">"+feature.properties[prop][0].substring(feature.properties[prop][0].lastIndexOf('/')+1)+"</a>"
        }else{
            popup+=feature.properties[prop]+""
        }
        popup+="</li>"
    }
    popup+="</ul>"
    return popup
}
if (document.getElementById("map")){
    map = L.map('map',{"fullscreenControl": true}).setView([51.505, -0.09], 13);
    L.Polygon.addInitHook(function () {
        this._latlng = this._bounds.getCenter();
    });
    L.Polygon.include({
        getLatLng: function () {
            return this._latlng;
        },
        setLatLng: function () {} // Dummy method.
    });
    const tiles = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);
    featLayer=L.geoJSON(features,{
        pointToLayer: function(feature, latlng){
            greenIcon=L.divIcon({
                className: "my-custom-pin",
                iconAnchor: [0, 24],
                labelAnchor: [-6, 0],
                popupAnchor: [0, -36],
                html: "<span style=\"background-color: black;width: 1.5rem;height: 1.5rem;display: block;left: -1rem;top: 0rem;position: relative;border-radius: 3rem 3rem 0;transform: rotate(45deg);border: 1px solid #FFFFFF;\"></span>"
            })
            themarker=L.marker(latlng, {icon: greenIcon});
            markerlist.push(themarker);
            return themarker
        },
        onEachFeature: function (feature, layer) {layer.bindPopup(generateLeafletPopup(feature, layer))}
    });
     addFloatingButtonToMap(map, 'Toggle Clusters', ()=>{
        if(clustersfrozen){
            markers.enableClustering()
        }else{
            markers.disableClustering()
        }
        clustersfrozen=!clustersfrozen
    }, 'toggleClusters')
    var markers = L.markerClusterGroup()
    markers.addLayer(featLayer);
    map.addLayer(markers)
    map.fitBounds(featLayer.getBounds());
}
if (document.getElementById("feattable")){
    $('#feattable').DataTable({
        columnDefs: [{ type: 'natural-nohtml', targets: '_all' }],
        lengthMenu: [[10, 25, 100,250,500,1000, -1], [10, 25, 100,250,500,1000, "All"]],
	    ordering: true,
        paging: true,
		pagingType: "input"
    });
}
</script>
</body></html>